" General Settings

" This wipes all existing settings. This means that if a setting in this file
" is removed, then it will return to default. In other words, this file serves
" as an enforced single point of truth for Tridactyl's configuration.
sanitize tridactyllocal tridactylsync

set configversion 2.0
set theme default
set profiledir ~/.firefox

" Defaults to 300ms but I'm a 'move fast and close the wrong tabs' kinda chap
set hintdelay 100
" Use lowercase hint chars
set hintuppercase false

" Search engines
set searchengine google
set searchurls.code https://code.amazon.com/search?term=
set searchurls.package https://code.amazon.com/packages/%s/trees/mainline
set searchurls.google https://www.google.com/search?q=
set searchurls.wikipedia https://en.wikipedia.org/wiki/Special:Search/
set searchurls.youtube https://www.youtube.com/results?search_query=
set searchurls.amazon https://www.amazon.com/s/ref=nb_sb_noss?url=search-alias%3Daps&field-keywords=
set searchurls.github https://github.com/search?utf8=âœ“&q=
set searchurls.sage https://sage.amazon.com/search?q=
set searchurls.wiki https://w.amazon.com/bin/view/Main/Search?text=
set searchurls.phonetool https://phonetool.amazon.com/users/
set searchurls.tt https://t.corp.amazon.com/

" Allow Ctrl-a to select all in the commandline
unbind --mode=ex <C-a>

" Allow Ctrl-c to copy in the commandline
unbind --mode=ex <C-c>

" Stupid workaround to let hint -; be used with composite which steals semi-colons
command hint_focus hint -;

" Open right click menu on links
"bind ;C composite hint_focus; !s xdotool key Menu

" Ctrl-F should use the browser's native 'find' functionality.
unbind <C-f>
" But also support Tridactyl search too.
bind / fillcmdline find
bind ? fillcmdline find -?
bind n findnext 1
bind N findnext -1
" Remove search highlighting.
bind ,<Space> nohlsearch
" Use sensitive case. Smart case would be nice here, but it doesn't work.
set findcase smart

" Smooth scrolling, yes please. This is still a bit janky in Tridactyl.
set smoothscroll true

" K and J should move between tabs. x should close them.
bind J tabprev
bind K tabnext
bind x tabclose

" The default jump of 10 is a bit much.
bind j scrollline 5
bind k scrollline -5

" I prefer these goto bindings, which are more qutebrowser-like
bind o fillcmdline open
bind O fillcmdline tabopen
bind go current_url open
unbind t

" Bookmark bindings
"" As 'b' will be the root of our bookmark hierarchy
unbind b
bind ba composite get_current_url | fillcmdline bmark
bind bl fillcmdline bmarks
bind bL fillcmdline bmarks -t

" For syntax highlighting see https://github.com/tridactyl/vim-tridactyl
" vim: set filetype=tridactyl
